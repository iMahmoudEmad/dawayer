<section class="main">
  <header>
    <h2 class="title">Your personal info.</h2>
  </header>

  <div class="body">
    <form [formGroup]="profileForm">
      <div class="form-control">
        <label class="clicked mb-1" for="fullName"> Full name </label>
        <input
          type="text"
          formControlName="fullName"
          id="fullName"
          class="input w-100"
          [class.error]="
            inputValue.fullName.invalid &&
            (inputValue.fullName.dirty || inputValue.fullName.touched)
          "
        />
      </div>

      <div class="form-control">
        <label class="clicked mb-1" for="email"> Email </label>
        <input
          type="text"
          formControlName="email"
          id="email"
          class="input w-100"
          [class.error]="
            inputValue.email.invalid &&
            (inputValue.email.dirty || inputValue.email.touched)
          "
        />
      </div>

      <div class="form-control b-none">
        <label class="clicked mb-1" for="mobile"> Mobile number </label>
        <ngx-intl-tel-input
          [enableAutoCountrySelect]="false"
          [enablePlaceholder]="true"
          [searchCountryFlag]="true"
          [selectFirstCountry]="false"
          [maxLength]="11"
          [phoneValidation]="true"
          [selectedCountryISO]="CountryISO.Egypt"
          [inputId]="'mobile'"
          name="mobile"
          formControlName="mobile"
          class="input w-100 b-none"
        ></ngx-intl-tel-input>
      </div>

      <div class="form-control mb-6">
        <label class="clicked mb-1" for="socialLink">Social media link </label>
        <input
          type="text"
          formControlName="socialLink"
          id="socialLink"
          placeholder="facebook.com/PartyBooster"
          class="input w-100"
          [class.error]="
            inputValue.socialLink.invalid &&
            (inputValue.socialLink.dirty || inputValue.socialLink.touched)
          "
        />
      </div>

      <h3 class="note">A chance to know you more</h3>
      <h3>Booking for how many guests?</h3>

      <div class="numberOfGuests">
        <span class="clicked minus" (click)="decrement()">
          <img
            src="assets/{{
              inputValue.numberOfGuests.value == 1 ? 'minus-disabled' : 'minus'
            }}.png"
            alt="minus"
          />
        </span>
        <p class="guestsLength">
          <img src="assets/user.png" alt="guest photo" class="user mb-6" />
          <span>{{ inputValue.numberOfGuests.value }} Guest</span>
        </p>
        <span class="clicked plus" (click)="increment()">
          <img src="assets/plus.png" alt="plus" />
        </span>
      </div>

      <div class="form-control">
        <input
          type="checkbox"
          formControlName="transporation"
          id="transporation"
          class="checkbox"
        />
        <label class="clicked" for="transporation"
          >I‚Äôll use the festival‚Äôs transporation option üöê
        </label>
      </div>

      <div class="form-control" *ngIf="inputValue.transporation.value">
        <div class="content clicked">
          <div class="data" (click)="isListShown = !isListShown">
            <h2 [class.active]="selectedItem?._id">
              {{
                selectedItem?.name || "Select the nearest pick-up point to you"
              }}
            </h2>
            <span>^</span>
          </div>

          <div class="list" *ngIf="isListShown">
            <ul>
              <li
                *ngFor="let transportation of tickets.transportation"
                (click)="setSelectedTransportation(transportation)"
                [class.disabled]="!transportation?.availability"
                [class.selected]="selectedItem?._id == transportation?._id"
              >
                <span>test{{ transportation?.name | json }}</span>
                <span>10:00 AM</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="form-control mb-2">
        <input
          type="checkbox"
          formControlName="vegeterian"
          id="vegeterian"
          class="checkbox"
        />
        <label class="clicked" for="vegeterian">I‚Äôm a vegeterian ü•í </label>
      </div>

      <ng-container *ngIf="tickets?.accommodation">
        <ng-container *ngFor="let item of tickets?.accommodation">
          <h3>{{ item?.name }}</h3>

          <div class="numberOfGuests">
            <span class="clicked minus" (click)="decrement(item?.name)">
              <img
                src="assets/{{
                  accommodationValue(item.name) == 1
                    ? 'minus-disabled'
                    : 'minus'
                }}.png"
                alt="minus"
              />
            </span>
            <p class="guestsLength">
              <img
                src="assets/{{
                  item?.name?.includes('Island') ? 'bungalow' : 'tent'
                }}.png"
                alt="guest photo"
                class="bungalow mb-6"
              />
              <span>{{ accommodationValue(item.name) }} Guest</span>
            </p>
            <span class="clicked plus" (click)="increment(item?.name)">
              <img src="assets/plus.png" alt="plus" />
            </span>
          </div>
        </ng-container>
      </ng-container>

      <div class="form-control">
        <button
          class="btn"
          [class.disabled]="profileForm.invalid"
          [disabled]="profileForm.invalid"
        >
          Continue to Summary
        </button>
      </div>
    </form>
  </div>
</section>
